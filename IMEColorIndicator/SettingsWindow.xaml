<Window x:Class="IMEColorIndicator.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="IME Color Indicator - 設定"
        Height="680" Width="750"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    <Window.Resources>
        <!-- カラーボタンのカスタムスタイル -->
        <Style x:Key="ColorButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="Black"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="3"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="Black"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <!-- IME色設定 -->
            <GroupBox Header="IME色設定" Padding="10" Margin="0,0,0,10">
                <StackPanel>
                    <!-- IME OFF時の色 -->
                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="IME OFF:" VerticalAlignment="Center" Margin="0,0,10,0" Width="80"/>
                        <Border Grid.Column="1" x:Name="ImeOffPreview" Height="30" BorderBrush="Gray" BorderThickness="1" Cursor="Hand" MouseDown="ImeOffPreview_MouseDown"/>
                        <Button Grid.Column="2" x:Name="BtnSelectOffColor" Content="色を選択" Click="BtnSelectOffColor_Click" Margin="10,0,0,0"/>
                    </Grid>

                    <!-- IME ON時の色 -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="IME ON:" VerticalAlignment="Center" Margin="0,0,10,0" Width="80"/>
                        <Border Grid.Column="1" x:Name="ImeOnPreview" Height="30" BorderBrush="Gray" BorderThickness="1" Cursor="Hand" MouseDown="ImeOnPreview_MouseDown"/>
                        <Button Grid.Column="2" x:Name="BtnSelectOnColor" Content="色を選択" Click="BtnSelectOnColor_Click" Margin="10,0,0,0"/>
                    </Grid>
                </StackPanel>
            </GroupBox>

            <!-- プリセットカラー -->
            <GroupBox Header="プリセットカラー" Padding="10" Margin="0,0,0,10">
                <WrapPanel x:Name="PresetColors"/>
            </GroupBox>

            <!-- バー表示設定 -->
            <GroupBox Header="バー表示設定" Padding="10" Margin="0,0,0,10">
                <Grid HorizontalAlignment="Center">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="10"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- 上端バー設定 -->
                    <StackPanel Grid.Row="0" Grid.Column="2" HorizontalAlignment="Center">
                        <CheckBox x:Name="ChkShowTop" Content="上端バー" HorizontalAlignment="Center" Checked="ChkShowTop_CheckedChanged" Unchecked="ChkShowTop_CheckedChanged"/>
                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                            <TextBlock Text="高さ:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <Slider x:Name="SliderTopHeight" Minimum="1" Maximum="50" Width="100" TickFrequency="1" IsSnapToTickEnabled="True" VerticalAlignment="Center" ValueChanged="SliderTopHeight_ValueChanged"/>
                            <TextBlock Text="{Binding Value, ElementName=SliderTopHeight, StringFormat={}{0:0}px}" VerticalAlignment="Center" Margin="5,0,0,0" Width="30"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- 左端バー設定 -->
                    <StackPanel Grid.Row="2" Grid.Column="0" VerticalAlignment="Center">
                        <CheckBox x:Name="ChkShowLeft" Content="左端バー" HorizontalAlignment="Center" Checked="ChkShowLeft_CheckedChanged" Unchecked="ChkShowLeft_CheckedChanged"/>
                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                            <TextBlock Text="幅:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <Slider x:Name="SliderLeftWidth" Minimum="1" Maximum="50" Width="80" TickFrequency="1" IsSnapToTickEnabled="True" VerticalAlignment="Center" ValueChanged="SliderLeftWidth_ValueChanged"/>
                            <TextBlock Text="{Binding Value, ElementName=SliderLeftWidth, StringFormat={}{0:0}px}" VerticalAlignment="Center" Margin="5,0,0,0" Width="30"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- ディスプレイプレビュー（中央） -->
                    <Border Grid.Row="2" Grid.Column="2" Background="#F0F0F0" BorderBrush="Gray" BorderThickness="1" Padding="20">
                        <Grid Width="200" Height="120">
                            <!-- メインディスプレイ領域 -->
                            <Border Background="White" BorderBrush="DarkGray" BorderThickness="2"/>

                            <!-- 上端バー -->
                            <Border x:Name="PreviewTopBar" Background="DodgerBlue" Height="4" VerticalAlignment="Top" Opacity="0.7"/>

                            <!-- 下端バー -->
                            <Border x:Name="PreviewBottomBar" Background="DodgerBlue" Height="10" VerticalAlignment="Bottom" Opacity="0.7"/>

                            <!-- 左端バー -->
                            <Border x:Name="PreviewLeftBar" Background="DodgerBlue" Width="4" HorizontalAlignment="Left" Opacity="0.7"/>

                            <!-- 右端バー -->
                            <Border x:Name="PreviewRightBar" Background="DodgerBlue" Width="4" HorizontalAlignment="Right" Opacity="0.7"/>

                            <!-- 中央のテキスト -->
                            <TextBlock Text="ディスプレイ" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" Foreground="Gray"/>
                        </Grid>
                    </Border>

                    <!-- 右端バー設定 -->
                    <StackPanel Grid.Row="2" Grid.Column="4" VerticalAlignment="Center">
                        <CheckBox x:Name="ChkShowRight" Content="右端バー" HorizontalAlignment="Center" Checked="ChkShowRight_CheckedChanged" Unchecked="ChkShowRight_CheckedChanged"/>
                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                            <TextBlock Text="幅:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <Slider x:Name="SliderRightWidth" Minimum="1" Maximum="50" Width="80" TickFrequency="1" IsSnapToTickEnabled="True" VerticalAlignment="Center" ValueChanged="SliderRightWidth_ValueChanged"/>
                            <TextBlock Text="{Binding Value, ElementName=SliderRightWidth, StringFormat={}{0:0}px}" VerticalAlignment="Center" Margin="5,0,0,0" Width="30"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- 下端バー設定 -->
                    <StackPanel Grid.Row="4" Grid.Column="2" HorizontalAlignment="Center">
                        <CheckBox x:Name="ChkShowBottom" Content="下端バー" HorizontalAlignment="Center" Checked="ChkShowBottom_CheckedChanged" Unchecked="ChkShowBottom_CheckedChanged"/>
                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                            <TextBlock Text="高さ:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                            <Slider x:Name="SliderBottomHeight" Minimum="1" Maximum="50" Width="100" TickFrequency="1" IsSnapToTickEnabled="True" VerticalAlignment="Center" ValueChanged="SliderBottomHeight_ValueChanged"/>
                            <TextBlock Text="{Binding Value, ElementName=SliderBottomHeight, StringFormat={}{0:0}px}" VerticalAlignment="Center" Margin="5,0,0,0" Width="30"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- タスクバー上端バー設定 -->
            <GroupBox Header="タスクバー上端バー設定" Padding="10" Margin="0,0,0,10">
                <StackPanel>
                    <CheckBox x:Name="ChkShowTaskbarTop" Content="タスクバーの上辺にラインを表示" HorizontalAlignment="Left" Margin="0,0,0,10" Checked="ChkShowTaskbarTop_CheckedChanged" Unchecked="ChkShowTaskbarTop_CheckedChanged"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="高さ:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                        <Slider x:Name="SliderTaskbarTopHeight" Minimum="1" Maximum="50" Width="200" TickFrequency="1" IsSnapToTickEnabled="True" VerticalAlignment="Center" ValueChanged="SliderTaskbarTopHeight_ValueChanged"/>
                        <TextBlock Text="{Binding Value, ElementName=SliderTaskbarTopHeight, StringFormat={}{0:0}px}" VerticalAlignment="Center" Margin="5,0,0,0" Width="30"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>

            <!-- 自動起動設定 -->
            <GroupBox Header="起動設定" Padding="10" Margin="0,0,0,10">
                <StackPanel>
                    <CheckBox x:Name="ChkAutoStart" Content="Windows起動時に自動起動する" VerticalAlignment="Center" Margin="0,0,0,10"/>
                    <CheckBox x:Name="ChkAutoUpdate" Content="自動更新を有効にする" VerticalAlignment="Center" Margin="0,0,0,10"/>

                    <!-- 言語設定 -->
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Language / 言語:" VerticalAlignment="Center" Margin="0,0,10,0" Width="120"/>
                        <ComboBox x:Name="CmbLanguage" Width="150" SelectedIndex="0" SelectionChanged="CmbLanguage_SelectionChanged">
                            <ComboBoxItem Content="Auto / 自動" Tag="Auto"/>
                            <ComboBoxItem Content="日本語 (Japanese)" Tag="Japanese"/>
                            <ComboBoxItem Content="English" Tag="English"/>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
        </StackPanel>
    </ScrollViewer>
</Window>
